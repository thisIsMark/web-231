<!DOCTYPE html>
<!--
 =============================================
  Title: Palmer-card-game.html
  Author: Mark Palmer 
  Date: 3/3/2021 
  Description: Card Game App
=============================================
-->

<html>
    <body>
        <head>
            <title>Card Game</title>
          <link
          href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap"
          rel="stylesheet"
        />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
        rel="stylesheet">

          <link href="Palmer-card-game.css" type="text/css" rel="stylesheet" />
          <link href="../global.css" type="text/css" rel="stylesheet" />
          <link rel="preconnect" href="https://fonts.gstatic.com" />
        </head>
            <div id="container">
                <h1 class="app-header">Welcome to the Card Game!</h1>
                <div id="card">
                    <div class="card-title">Card Dealer</div>
                    <div class="form-field">
                        <button id="btnDealCards" type="submit" class="btn btn-primary full-width">
                            Deal Cards
                        </button>
                    </div> 
                </div>

        
        <div class="container">
            <a href="../week-1/index.html" class="return-home">Return</a>
        </div>

        <div class="card">
            <div class="card-title">Shuffled Cards</div>
            <div id="player-card">

            </div>
        </div>
    </div>
    </body>
</html>

<script>

    class Card {
        constructor(face, suit) {
            this.face = face;
            this.suit = suit;
        }
    }
    class Dealer {
    
        constructor() 
        {
            this.getDeckOfCards();
        }
        //declare variables for card game
        cards = [];
        faces = ["A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"];
        suits = ["Hearts", "Diamonds", "Clubs", "Spades"];
        CARD_COUNT = 52;
                //Call getDeckOfCards
                getDeckOfCards() {
                for(let count = 0; count < this.CARD_COUNT; count++) {
                    this.cards[count] = new Card(this.faces[count % 13], this.suits[Math.floor(count / 13)]);
                }
            }
                //shuffle the deck
                shuffle() {
                for(let i = 0; i < this.CARD_COUNT; i++) {
                    let secondCard = Math.floor(Math.random() * this.CARD_COUNT);
                    let tempCard = this.cards[i];
                    this.cards[i] = this.cards[secondCard];
                    this.cards[secondCard] = tempCard;
                }
                this.cardOutput();

            }
                buildPlayingCard (card, suitIcon, faceColor, suitColor) {
                    return  '<div class="player-card" style="width:100%">'
                                '<div id="card-title" style="text-align:left; font-size:20px; padding-left:10px; color: ${faceColor};">${card.face}</div>'
                                '<div id="card-content" style="font-size:28px;padding-bottom:25px"><span style="color:${suitColor};" class="${suitIcon}"></span></div></div>'
                }

        cardOutput() {

            let cardOutputWithIcon = "";

            switch (card.suits) {
                case "Hearts":
                    cardOutputWithIcon += this.buildPlayingCard(card.faces, "mdi mdi-cards-heart", "red", "red");
                break;
                case "Diamonds":
                    cardOutputWithIcon += this.buildPlayingCard(card.faces, "mdi mdi-cards-diamonds", "red", "red");
                break;
                case "Clubs":
                    cardOutputWithIcon += this.buildPlayingCard(card.faces, "mdi", "mdi-cards-club", "black", "black");
                case "Spades":
                    cardOutputWithIcon += this.buildPlayingCard(card.faces, "mdi", "mdi-cards-spade", "black", "black");
                break;
            }

            document.getElementById("player-card").innerHTML = cardOutputWithIcon;
        }
    }

    document.getElementById("btnDealCards").onclick = function() {

        let deck = new Dealer().shuffle();
    }



</script>